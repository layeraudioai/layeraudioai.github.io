<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Audio Mastering Tool</title>
    <link rel="stylesheet" href="styles/master.css" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
</head>
<body>
    <div class="container">
        <header>
            <h1>Audio Mastering Tool</h1>
            <p class="subtitle">Web-based audio mastering with AI-powered processing</p>
        </header>

        <div class="main-content">
            <div class="upload-section">
                <h2 class="section-title"><span class="icon">upload</span> Upload Audio Files</h2>
                
                <div class="drop-area" id="dropArea">
                    <span class="icon">audio_file</span>
                    <p>Drag & drop audio files here</p>
                    <p>or</p>
                    <button class="browse-btn" id="browseBtn">Browse Files</button>
                    <input type="file" class="file-input" id="fileInput" accept="audio/*" multiple />
                </div>
                
                <div class="file-list" id="fileList">
                    <!-- Files will be added here dynamically -->
                </div>
            </div>

            <div class="settings-section">
                <h2 class="section-title"><span class="icon">tune</span> Mastering Settings</h2>
                
                <div class="setting-group">
                    <label class="setting-label">Output Format</label>
                    <div class="select-wrapper">
                        <select id="outputFormat">
                            <option value="wav">WAV (Uncompressed)</option>
                            <option value="mp3">MP3 (Compressed)</option>
                            <option value="flac">FLAC (Lossless)</option>
                            <option value="ogg">OGG Vorbis</option>
                        </select>
                    </div>
                </div>
                
                <div class="setting-group">
                    <label class="setting-label">Bit Depth</label>
                    <div class="select-wrapper">
                        <select id="bitDepth">
                            <option value="16">16-bit</option>
                            <option value="24">24-bit</option>
                            <option value="32" selected>32-bit (Float)</option>
                        </select>
                    </div>
                </div>
                
                <div class="setting-group">
                    <label class="setting-label">Sample Rate</label>
                    <div class="select-wrapper">
                        <select id="sampleRate">
                            <option value="44100">44.1 kHz (CD Quality)</option>
                            <option value="48000">48 kHz (DVD Quality)</option>
                            <option value="96000" selected>96 kHz (High Resolution)</option>
                            <option value="192000">192 kHz (Studio Quality)</option>
                        </select>
                    </div>
                </div>
                
                <div class="setting-group">
                    <label class="setting-label">Target Loudness Mode</label>
                    <div class="select-wrapper">
                        <select id="loudnessMode">
                            <option value="rms" selected>RMS (Root Mean Square)</option>
                            <option value="peak">Peak</option>
                            <option value="lufs">LUFS (Loudness Units Full Scale)</option>
                        </select>
                    </div>
                </div>
                
                <div class="setting-group">
                    <label class="setting-label">Target Loudness: <span id="loudnessValue">1.67</span> dB</label>
                    <div class="input-wrapper">
                        <input type="range" id="targetLoudness" min="-10" max="10" step="0.01" value="1.67" />
                        <span class="range-value" id="loudnessDisplay">1.67 dB</span>
                    </div>
                </div>
                
                <div class="checkbox-group">
                    <input type="checkbox" id="batchMode" checked />
                    <label for="batchMode">Enable batch processing (process all files at once)</label>
                </div>
            </div>
        </div>

        <div class="actions-section">
            <button class="action-btn master-btn" id="masterBtn" disabled>
                <span class="icon">auto_awesome</span> Master Audio
            </button>
            <button class="action-btn batch-btn" id="batchBtn" disabled>
                <span class="icon">playlist_add_check</span> Batch Process
            </button>
        </div>

        <div class="progress-container" id="progressContainer">
            <div class="progress-header">
                <span id="progressText">Processing: 0%</span>
                <span id="fileCounter">File 0 of 0</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>

        <div class="status-message" id="statusMessage"></div>

        <div class="output-section" id="outputSection" style="display: none;">
            <h2 class="output-title">Mastered Files</h2>
            <div class="output-list" id="outputList">
                <!-- Output files will be added here dynamically -->
            </div>
        </div>

        <footer>
            <p>Audio Mastering Tool v1.0 | Based on AI Mastering algorithms</p>
            <p>Note: This is a frontend simulation. In a production environment, audio processing would be handled by a backend service.</p>
            <div class="visualizer-controls" style="margin: 12px 0;">
                <h3>Visualizer Controls</h3>
                <label><input type="checkbox" id="showStarField" /> Starfield</label>
                <label><input type="checkbox" id="showWaveform" /> Waveform</label>
                <label><input type="checkbox" id="showAverage" /> Average</label>
                <label><input type="checkbox" id="showBarGraph" /> Bar Graph</label>
                <label><input type="checkbox" id="showRings" /> Pulse Rings</label>
                <label><input type="checkbox" id="showSpiral" /> Spectrum Spiral</label>
                <label><input type="checkbox" id="showRadialBars" /> Radial Bars</label>
                <label><input type="checkbox" id="showGlitch" /> Glitch</label>
                <label style="margin-left: 16px;"><input type="checkbox" id="visualizerRandom" /> Randomize</label>
            </div>
            <canvas id="visualizer"></canvas>
            <div id="logsSection" class="logs-section">
                <h3>Activity Log</h3>
                <div id="logOutput" class="log-output"></div>
            </div>
            <p>COPYRIGHT FFMPEG, LAME & BRENDAN CARELL 2026</p>
            <p>LayAI - Advanced Audio Mixing Tool</p>
            <p><small><a href="index.html">LAYAI MAIN SITE</a></small></p>
            <p><small><a href="yolo.html">YOLO SUB-SITE</a></small></p>
            <small>MIDIs must be uploaded as audio not midi, you can convert them below, just be patient with it.</small>
            <small>Surround sound up to 22.2 does work. Suggestions and questions can go to bscarell@gmail.com</small>
            <p><small>https://Layai.ca - Pronounced Leia</small></p>
            <p><small>https://layeraudioai.github.io/vendor/LICENSES.md - Licenses</small></p>
            <small><input type="file" id="midiFileInput" accept=".mid,.midi" /></small>
            <small><button id="convertBtn">Convert midi to WAV</button>
            <a id="downloadLink" style="display:none;">Download WAV</a></small>
        </footer>
    </div>
    <script src="src/app.js"></script>
    <script src="src/layai-render.js"></script>
    <script src="src/master.js"></script>
</body>
</html>


